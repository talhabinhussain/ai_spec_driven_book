"use strict";(self.webpackChunkai_native_book=self.webpackChunkai_native_book||[]).push([[614],{1109:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"module-1-ros2/chapter-1-5-parameters","title":"Chapter 1.5 - ROS 2 Parameters and Configuration","description":"Managing configuration through parameters, launch files, and parameter files","source":"@site/docs/module-1-ros2/chapter-1-5-parameters.mdx","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/chapter-1-5-parameters","permalink":"/ai_spec_driven_book/docs/module-1-ros2/chapter-1-5-parameters","draft":false,"unlisted":false,"editUrl":"https://github.com/talhabinhussain/ai_spec_driven_book/tree/main/docs/module-1-ros2/chapter-1-5-parameters.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Chapter 1.5 - ROS 2 Parameters and Configuration","description":"Managing configuration through parameters, launch files, and parameter files","sidebar_position":5,"sidebar_label":"Chapter 1.5: Parameters"},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 1.4: Message Types","permalink":"/ai_spec_driven_book/docs/module-1-ros2/chapter-1-4-message-types"},"next":{"title":"Chapter 1.6: Launch Files","permalink":"/ai_spec_driven_book/docs/module-1-ros2/chapter-1-6-launch-files"}}');var t=n(4848),l=n(8453);const s={title:"Chapter 1.5 - ROS 2 Parameters and Configuration",description:"Managing configuration through parameters, launch files, and parameter files",sidebar_position:5,sidebar_label:"Chapter 1.5: Parameters"},i="Chapter 1.5: ROS 2 Parameters and Configuration",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Understanding ROS 2 Parameters",id:"understanding-ros-2-parameters",level:2},{value:"What Are Parameters?",id:"what-are-parameters",level:3},{value:"Parameter Characteristics",id:"parameter-characteristics",level:3},{value:"Parameter Types",id:"parameter-types",level:3},{value:"Declaring and Using Parameters",id:"declaring-and-using-parameters",level:2},{value:"Parameter Declaration in Nodes",id:"parameter-declaration-in-nodes",level:3},{value:"Parameter Validation and Constraints",id:"parameter-validation-and-constraints",level:3},{value:"Dynamic Parameter Reconfiguration",id:"dynamic-parameter-reconfiguration",level:3},{value:"Parameter Files (YAML)",id:"parameter-files-yaml",level:2},{value:"Creating Parameter Files",id:"creating-parameter-files",level:3},{value:"Loading Parameter Files",id:"loading-parameter-files",level:3},{value:"Loading Parameters at Launch Time",id:"loading-parameters-at-launch-time",level:3},{value:"Launch Files with Parameters",id:"launch-files-with-parameters",level:2},{value:"Basic Launch File with Parameters",id:"basic-launch-file-with-parameters",level:3},{value:"Advanced Launch File with Multiple Configurations",id:"advanced-launch-file-with-multiple-configurations",level:3},{value:"Launch File with Conditional Parameters",id:"launch-file-with-conditional-parameters",level:3},{value:"Advanced Parameter Techniques",id:"advanced-parameter-techniques",level:2},{value:"Parameter Descriptors",id:"parameter-descriptors",level:3},{value:"Parameter Groups and Hierarchical Names",id:"parameter-groups-and-hierarchical-names",level:3},{value:"Parameter Callbacks for Complex Logic",id:"parameter-callbacks-for-complex-logic",level:3},{value:"Parameter Management Strategies",id:"parameter-management-strategies",level:2},{value:"1. Configuration Profiles",id:"1-configuration-profiles",level:3},{value:"2. Parameter Validation Node",id:"2-parameter-validation-node",level:3},{value:"3. Parameter Presets",id:"3-parameter-presets",level:3},{value:"Command-Line Parameter Management",id:"command-line-parameter-management",level:2},{value:"Useful Parameter Commands",id:"useful-parameter-commands",level:3},{value:"Parameter Management Scripts",id:"parameter-management-scripts",level:3},{value:"Best Practices for Parameter Management",id:"best-practices-for-parameter-management",level:2},{value:"1. Parameter Organization",id:"1-parameter-organization",level:3},{value:"2. Parameter Validation",id:"2-parameter-validation",level:3},{value:"3. Default Values and Documentation",id:"3-default-values-and-documentation",level:3},{value:"4. Runtime Parameter Changes",id:"4-runtime-parameter-changes",level:3},{value:"Parameter Performance Considerations",id:"parameter-performance-considerations",level:2},{value:"Efficient Parameter Access",id:"efficient-parameter-access",level:3},{value:"Summary",id:"summary",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function d(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"chapter-15-ros-2-parameters-and-configuration",children:"Chapter 1.5: ROS 2 Parameters and Configuration"})}),"\n",(0,t.jsx)(a.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(a.p,{children:"In this chapter, you'll learn how to manage configuration in ROS 2 using parameters, launch files, and parameter files. Proper configuration management is crucial for creating flexible, maintainable robotic systems that can adapt to different environments and requirements."}),"\n",(0,t.jsx)(a.p,{children:"By the end of this chapter, you'll understand:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"\u2705 How to declare and use parameters in ROS 2 nodes"}),"\n",(0,t.jsx)(a.li,{children:"\u2705 Parameter management through launch files and parameter files"}),"\n",(0,t.jsx)(a.li,{children:"\u2705 Best practices for configuration management"}),"\n",(0,t.jsx)(a.li,{children:"\u2705 Advanced parameter techniques and validation"}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"understanding-ros-2-parameters",children:"Understanding ROS 2 Parameters"}),"\n",(0,t.jsx)(a.h3,{id:"what-are-parameters",children:"What Are Parameters?"}),"\n",(0,t.jsxs)(a.p,{children:["Parameters in ROS 2 are ",(0,t.jsx)(a.strong,{children:"named, typed values"})," that control node behavior without requiring code changes. They allow you to configure nodes at runtime, making your robotic systems adaptable to different environments, hardware configurations, and operational requirements."]}),"\n",(0,t.jsx)(a.h3,{id:"parameter-characteristics",children:"Parameter Characteristics"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Named"}),": Each parameter has a unique name within a node"]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Typed"}),": Parameters have specific data types (int, float, string, bool, lists)"]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Runtime-Configurable"}),": Can be changed while nodes are running"]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Node-Specific"}),": Parameters belong to specific nodes"]}),"\n",(0,t.jsxs)(a.li,{children:[(0,t.jsx)(a.strong,{children:"Hierarchical"}),": Support for namespaced parameter names"]}),"\n"]}),"\n",(0,t.jsx)(a.h3,{id:"parameter-types",children:"Parameter Types"}),"\n",(0,t.jsx)(a.p,{children:"ROS 2 supports several parameter types:"}),"\n",(0,t.jsxs)(a.table,{children:[(0,t.jsx)(a.thead,{children:(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.th,{children:"Type"}),(0,t.jsx)(a.th,{children:"Python Type"}),(0,t.jsx)(a.th,{children:"Description"}),(0,t.jsx)(a.th,{children:"Example"})]})}),(0,t.jsxs)(a.tbody,{children:[(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"bool"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"bool"})}),(0,t.jsx)(a.td,{children:"Boolean values"}),(0,t.jsxs)(a.td,{children:[(0,t.jsx)(a.code,{children:"True"}),", ",(0,t.jsx)(a.code,{children:"False"})]})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"int"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"int"})}),(0,t.jsx)(a.td,{children:"Integer values"}),(0,t.jsxs)(a.td,{children:[(0,t.jsx)(a.code,{children:"42"}),", ",(0,t.jsx)(a.code,{children:"-10"})]})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"double"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"float"})}),(0,t.jsx)(a.td,{children:"Floating point values"}),(0,t.jsxs)(a.td,{children:[(0,t.jsx)(a.code,{children:"3.14"}),", ",(0,t.jsx)(a.code,{children:"-2.5"})]})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"string"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"str"})}),(0,t.jsx)(a.td,{children:"Text values"}),(0,t.jsxs)(a.td,{children:[(0,t.jsx)(a.code,{children:'"hello"'}),", ",(0,t.jsx)(a.code,{children:'"config"'})]})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"bool_array"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"list[bool]"})}),(0,t.jsx)(a.td,{children:"Array of booleans"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"[True, False, True]"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"integer_array"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"list[int]"})}),(0,t.jsx)(a.td,{children:"Array of integers"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"[1, 2, 3, 4]"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"double_array"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"list[float]"})}),(0,t.jsx)(a.td,{children:"Array of floats"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"[1.1, 2.2, 3.3]"})})]}),(0,t.jsxs)(a.tr,{children:[(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"string_array"})}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:"list[str]"})}),(0,t.jsx)(a.td,{children:"Array of strings"}),(0,t.jsx)(a.td,{children:(0,t.jsx)(a.code,{children:'["a", "b", "c"]'})})]})]})]}),"\n",(0,t.jsx)(a.h2,{id:"declaring-and-using-parameters",children:"Declaring and Using Parameters"}),"\n",(0,t.jsx)(a.h3,{id:"parameter-declaration-in-nodes",children:"Parameter Declaration in Nodes"}),"\n",(0,t.jsx)(a.p,{children:"To use parameters in your nodes, you must first declare them:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"#!/usr/bin/env python3\n\"\"\"\nNode demonstrating parameter declaration and usage.\n\"\"\"\n\nimport rclpy\nfrom rclpy.node import Node\nfrom rcl_interfaces.msg import ParameterType\nfrom rcl_interfaces.srv import SetParameters\nimport json\n\n\nclass ParameterNode(Node):\n    def __init__(self):\n        super().__init__('parameter_node')\n\n        # Declare parameters with default values and descriptions\n        self.declare_parameter('robot_name', 'default_robot',\n                             description='Name of the robot')\n        self.declare_parameter('max_velocity', 1.0,\n                             description='Maximum linear velocity (m/s)')\n        self.declare_parameter('safety_enabled', True,\n                             description='Enable safety checks')\n        self.declare_parameter('sensor_offsets', [0.0, 0.1, 0.2],\n                             description='Sensor offset values')\n        self.declare_parameter('debug_topics', ['/debug_info', '/debug_status'],\n                             description='Debug topic names')\n\n        # Get parameter values\n        self.robot_name = self.get_parameter('robot_name').value\n        self.max_velocity = self.get_parameter('max_velocity').value\n        self.safety_enabled = self.get_parameter('safety_enabled').value\n        self.sensor_offsets = self.get_parameter('sensor_offsets').value\n        self.debug_topics = self.get_parameter('debug_topics').value\n\n        # Set up parameter callback for runtime changes\n        self.add_on_set_parameters_callback(self.parameter_callback)\n\n        # Timer to demonstrate parameter usage\n        self.timer = self.create_timer(2.0, self.timer_callback)\n\n        self.get_logger().info(f'Parameter node initialized with robot: {self.robot_name}')\n\n    def parameter_callback(self, params):\n        \"\"\"\n        Callback for parameter changes.\n        This is called whenever parameters are set/changed.\n        \"\"\"\n        for param in params:\n            if param.name == 'robot_name':\n                self.robot_name = param.value\n                self.get_logger().info(f'Robot name updated to: {self.robot_name}')\n            elif param.name == 'max_velocity':\n                if param.value > 0:\n                    self.max_velocity = param.value\n                    self.get_logger().info(f'Max velocity updated to: {self.max_velocity}')\n                else:\n                    self.get_logger().error('Max velocity must be positive')\n                    return rclpy.parameter.ParameterCallbackResult.FAILURE\n            elif param.name == 'safety_enabled':\n                self.safety_enabled = param.value\n                status = 'enabled' if self.safety_enabled else 'disabled'\n                self.get_logger().info(f'Safety checks {status}')\n            elif param.name == 'sensor_offsets':\n                self.sensor_offsets = param.value\n                self.get_logger().info(f'Sensor offsets updated: {self.sensor_offsets}')\n\n        return rclpy.parameter.ParameterCallbackResult.SUCCESS\n\n    def timer_callback(self):\n        \"\"\"Timer callback that uses parameters.\"\"\"\n        self.get_logger().info(\n            f'Robot: {self.robot_name}, '\n            f'Max Vel: {self.max_velocity}, '\n            f'Safety: {self.safety_enabled}, '\n            f'Sensors: {self.sensor_offsets}'\n        )\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = ParameterNode()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        node.get_logger().info('Parameter node stopped by user')\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,t.jsx)(a.h3,{id:"parameter-validation-and-constraints",children:"Parameter Validation and Constraints"}),"\n",(0,t.jsx)(a.p,{children:"You can add validation to your parameters:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"class ValidatedParameterNode(Node):\n    def __init__(self):\n        super().__init__('validated_parameter_node')\n\n        # Declare parameters with validation\n        self.declare_parameter('robot_radius', 0.5)\n        self.declare_parameter('max_acceleration', 2.0)\n        self.declare_parameter('control_frequency', 50)\n\n        # Set up validation callback\n        self.add_on_set_parameters_callback(self.validated_parameter_callback)\n\n    def validated_parameter_callback(self, params):\n        \"\"\"\n        Callback with validation logic.\n        \"\"\"\n        for param in params:\n            if param.name == 'robot_radius':\n                if param.value <= 0:\n                    self.get_logger().error('Robot radius must be positive')\n                    return rclpy.parameter.ParameterCallbackResult.FAILURE\n                elif param.value > 5.0:\n                    self.get_logger().warn('Robot radius seems unusually large')\n            elif param.name == 'max_acceleration':\n                if param.value <= 0:\n                    self.get_logger().error('Max acceleration must be positive')\n                    return rclpy.parameter.ParameterCallbackResult.FAILURE\n                elif param.value > 10.0:\n                    self.get_logger().warn('High acceleration values may cause instability')\n            elif param.name == 'control_frequency':\n                if param.value <= 0:\n                    self.get_logger().error('Control frequency must be positive')\n                    return rclpy.parameter.ParameterCallbackResult.FAILURE\n                elif param.value > 1000:\n                    self.get_logger().warn('Very high control frequency may impact performance')\n\n        # Update parameter values after validation\n        for param in params:\n            setattr(self, param.name.replace('-', '_'), param.value)\n\n        return rclpy.parameter.ParameterCallbackResult.SUCCESS\n"})}),"\n",(0,t.jsx)(a.h3,{id:"dynamic-parameter-reconfiguration",children:"Dynamic Parameter Reconfiguration"}),"\n",(0,t.jsx)(a.p,{children:"Parameters can be changed at runtime using command-line tools:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:'# Set a parameter on a running node\nros2 param set /parameter_node robot_name "new_robot_name"\n\n# Get a parameter value\nros2 param get /parameter_node max_velocity\n\n# List all parameters for a node\nros2 param list /parameter_node\n\n# Load parameters from a file\nros2 param load /parameter_node /path/to/params.yaml\n\n# Dump current parameters to a file\nros2 param dump /parameter_node\n'})}),"\n",(0,t.jsx)(a.h2,{id:"parameter-files-yaml",children:"Parameter Files (YAML)"}),"\n",(0,t.jsx)(a.h3,{id:"creating-parameter-files",children:"Creating Parameter Files"}),"\n",(0,t.jsx)(a.p,{children:"Parameter files use YAML format and allow you to set parameters before nodes start:"}),"\n",(0,t.jsxs)(a.p,{children:["Create ",(0,t.jsx)(a.code,{children:"config/robot_params.yaml"}),":"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-yaml",children:'/**:  # Global parameters (applies to all nodes)\n  ros__parameters:\n    use_sim_time: false\n    log_level: "info"\n\nparameter_node:\n  ros__parameters:\n    robot_name: "my_robot"\n    max_velocity: 2.0\n    safety_enabled: true\n    sensor_offsets: [0.1, 0.2, 0.3]\n    debug_topics: ["/debug/info", "/debug/status"]\n\nnavigation_node:\n  ros__parameters:\n    planner_frequency: 5.0\n    controller_frequency: 20.0\n    recovery_enabled: true\n    oscillation_timeout: 10.0\n    oscillation_distance: 0.5\n\ncontroller_node:\n  ros__parameters:\n    kp: 1.0\n    ki: 0.1\n    kd: 0.05\n    max_vel: 1.0\n    min_vel: 0.1\n    cmd_timeout: 1.0\n'})}),"\n",(0,t.jsx)(a.h3,{id:"loading-parameter-files",children:"Loading Parameter Files"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"#!/usr/bin/env python3\n\"\"\"\nNode that loads parameters from a file.\n\"\"\"\n\nimport rclpy\nfrom rclpy.node import Node\n\n\nclass ParameterFileNode(Node):\n    def __init__(self):\n        super().__init__('parameter_file_node')\n\n        # Declare parameters (they will be set from the parameter file)\n        self.declare_parameter('robot_name', 'default')\n        self.declare_parameter('max_velocity', 1.0)\n        self.declare_parameter('kp', 1.0)\n        self.declare_parameter('ki', 0.0)\n        self.declare_parameter('kd', 0.0)\n\n        # Get parameter values after declaration\n        self.robot_name = self.get_parameter('robot_name').value\n        self.max_velocity = self.get_parameter('max_velocity').value\n        self.kp = self.get_parameter('kp').value\n        self.ki = self.get_parameter('ki').value\n        self.kd = self.get_parameter('kd').value\n\n        self.get_logger().info(f'Loaded parameters: {self.robot_name}, {self.max_velocity}')\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = ParameterFileNode()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        node.get_logger().info('Node stopped by user')\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,t.jsx)(a.h3,{id:"loading-parameters-at-launch-time",children:"Loading Parameters at Launch Time"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"# Load parameters from file when starting the node\nros2 run my_robot_pkg parameter_file_node --ros-args --params-file config/robot_params.yaml\n"})}),"\n",(0,t.jsx)(a.h2,{id:"launch-files-with-parameters",children:"Launch Files with Parameters"}),"\n",(0,t.jsx)(a.h3,{id:"basic-launch-file-with-parameters",children:"Basic Launch File with Parameters"}),"\n",(0,t.jsxs)(a.p,{children:["Create ",(0,t.jsx)(a.code,{children:"launch/parameter_demo.launch.py"}),":"]}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\n\n\ndef generate_launch_description():\n    # Declare launch arguments\n    robot_name_arg = DeclareLaunchArgument(\n        'robot_name',\n        default_value='default_robot',\n        description='Name of the robot'\n    )\n\n    max_velocity_arg = DeclareLaunchArgument(\n        'max_velocity',\n        default_value='1.0',\n        description='Maximum velocity for the robot'\n    )\n\n    # Get launch configurations\n    robot_name = LaunchConfiguration('robot_name')\n    max_velocity = LaunchConfiguration('max_velocity')\n\n    # Create parameter node\n    parameter_node = Node(\n        package='my_robot_pkg',\n        executable='parameter_node',\n        name='parameter_node',\n        parameters=[\n            {\n                'robot_name': robot_name,\n                'max_velocity': max_velocity,\n                'safety_enabled': True,\n                'sensor_offsets': [0.1, 0.2, 0.3]\n            }\n        ],\n        output='screen'\n    )\n\n    return LaunchDescription([\n        robot_name_arg,\n        max_velocity_arg,\n        parameter_node\n    ])\n"})}),"\n",(0,t.jsx)(a.h3,{id:"advanced-launch-file-with-multiple-configurations",children:"Advanced Launch File with Multiple Configurations"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument, IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution\nfrom launch_ros.actions import Node\nfrom launch_ros.substitutions import FindPackageShare\n\n\ndef generate_launch_description():\n    # Declare launch arguments\n    robot_model_arg = DeclareLaunchArgument(\n        'robot_model',\n        default_value='turtlebot4',\n        description='Robot model to use'\n    )\n\n    use_sim_time_arg = DeclareLaunchArgument(\n        'use_sim_time',\n        default_value='false',\n        description='Use simulation time'\n    )\n\n    config_file_arg = DeclareLaunchArgument(\n        'config_file',\n        default_value='default',\n        description='Configuration file to use'\n    )\n\n    # Get launch configurations\n    robot_model = LaunchConfiguration('robot_model')\n    use_sim_time = LaunchConfiguration('use_sim_time')\n    config_file = LaunchConfiguration('config_file')\n\n    # Define configuration file path based on robot model\n    config_path = PathJoinSubstitution([\n        FindPackageShare('my_robot_pkg'),\n        'config',\n        [config_file, '_', robot_model, '.yaml']\n    ])\n\n    # Robot controller node\n    robot_controller = Node(\n        package='my_robot_pkg',\n        executable='robot_controller',\n        name='robot_controller',\n        parameters=[\n            config_path,\n            {'use_sim_time': use_sim_time},\n            {'robot_model': robot_model}\n        ],\n        output='screen'\n    )\n\n    # Sensor processor node\n    sensor_processor = Node(\n        package='my_robot_pkg',\n        executable='sensor_processor',\n        name='sensor_processor',\n        parameters=[\n            config_path,\n            {'use_sim_time': use_sim_time}\n        ],\n        output='screen'\n    )\n\n    return LaunchDescription([\n        robot_model_arg,\n        use_sim_time_arg,\n        config_file_arg,\n        robot_controller,\n        sensor_processor\n    ])\n"})}),"\n",(0,t.jsx)(a.h3,{id:"launch-file-with-conditional-parameters",children:"Launch File with Conditional Parameters"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument, SetLaunchConfiguration\nfrom launch.conditions import IfCondition, UnlessCondition\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\n\n\ndef generate_launch_description():\n    # Declare launch arguments\n    use_camera_arg = DeclareLaunchArgument(\n        'use_camera',\n        default_value='true',\n        description='Whether to use camera'\n    )\n\n    use_lidar_arg = DeclareLaunchArgument(\n        'use_lidar',\n        default_value='true',\n        description='Whether to use lidar'\n    )\n\n    # Get launch configurations\n    use_camera = LaunchConfiguration('use_camera')\n    use_lidar = LaunchConfiguration('use_lidar')\n\n    # Camera node (only if use_camera is true)\n    camera_node = Node(\n        package='my_robot_pkg',\n        executable='camera_node',\n        name='camera_node',\n        parameters=[{'use_camera': use_camera}],\n        condition=IfCondition(use_camera),\n        output='screen'\n    )\n\n    # Lidar node (only if use_lidar is true)\n    lidar_node = Node(\n        package='my_robot_pkg',\n        executable='lidar_node',\n        name='lidar_node',\n        parameters=[{'use_lidar': use_lidar}],\n        condition=IfCondition(use_lidar),\n        output='screen'\n    )\n\n    return LaunchDescription([\n        use_camera_arg,\n        use_lidar_arg,\n        camera_node,\n        lidar_node\n    ])\n"})}),"\n",(0,t.jsx)(a.h2,{id:"advanced-parameter-techniques",children:"Advanced Parameter Techniques"}),"\n",(0,t.jsx)(a.h3,{id:"parameter-descriptors",children:"Parameter Descriptors"}),"\n",(0,t.jsx)(a.p,{children:"You can provide detailed descriptions and constraints for parameters:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"from rcl_interfaces.msg import ParameterDescriptor, IntegerRange, FloatingPointRange\nfrom rcl_interfaces.srv import SetParameters\n\n\nclass DescriptiveParameterNode(Node):\n    def __init__(self):\n        super().__init__('descriptive_parameter_node')\n\n        # Declare parameter with descriptor\n        velocity_descriptor = ParameterDescriptor(\n            name='max_velocity',\n            type=ParameterType.PARAMETER_DOUBLE,\n            description='Maximum linear velocity of the robot',\n            additional_constraints='Must be positive and less than 5.0 m/s',\n            read_only=False,\n            floating_point_range=[FloatingPointRange(from_value=0.0, to_value=5.0, step=0.1)]\n        )\n\n        self.declare_parameter('max_velocity', 1.0, descriptor=velocity_descriptor)\n\n        # Integer parameter with range\n        count_descriptor = ParameterDescriptor(\n            name='loop_count',\n            type=ParameterType.PARAMETER_INTEGER,\n            description='Number of loops to execute',\n            integer_range=[IntegerRange(from_value=1, to_value=100, step=1)]\n        )\n\n        self.declare_parameter('loop_count', 10, descriptor=count_descriptor)\n\n        # Get parameter values\n        self.max_velocity = self.get_parameter('max_velocity').value\n        self.loop_count = self.get_parameter('loop_count').value\n\n        self.get_logger().info(f'Max velocity: {self.max_velocity}, Loop count: {self.loop_count}')\n"})}),"\n",(0,t.jsx)(a.h3,{id:"parameter-groups-and-hierarchical-names",children:"Parameter Groups and Hierarchical Names"}),"\n",(0,t.jsx)(a.p,{children:"Use parameter names with hierarchical structure:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"class HierarchicalParameterNode(Node):\n    def __init__(self):\n        super().__init__('hierarchical_parameter_node')\n\n        # Declare parameters with hierarchical names\n        # Navigation parameters\n        self.declare_parameter('navigation.planner_frequency', 5.0)\n        self.declare_parameter('navigation.controller_frequency', 20.0)\n        self.declare_parameter('navigation.timeout', 30.0)\n\n        # Sensor parameters\n        self.declare_parameter('sensors.camera.enabled', True)\n        self.declare_parameter('sensors.lidar.range_min', 0.1)\n        self.declare_parameter('sensors.lidar.range_max', 30.0)\n        self.declare_parameter('sensors.imu.enabled', True)\n\n        # Control parameters\n        self.declare_parameter('control.pid.kp', 1.0)\n        self.declare_parameter('control.pid.ki', 0.1)\n        self.declare_parameter('control.pid.kd', 0.05)\n\n        # Get parameters\n        self.planner_freq = self.get_parameter('navigation.planner_frequency').value\n        self.camera_enabled = self.get_parameter('sensors.camera.enabled').value\n        self.kp = self.get_parameter('control.pid.kp').value\n\n        self.get_logger().info(f'Planner freq: {self.planner_freq}, PID Kp: {self.kp}')\n"})}),"\n",(0,t.jsx)(a.h3,{id:"parameter-callbacks-for-complex-logic",children:"Parameter Callbacks for Complex Logic"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"class ComplexParameterNode(Node):\n    def __init__(self):\n        super().__init__('complex_parameter_node')\n\n        # Declare related parameters\n        self.declare_parameter('velocity.linear', 1.0)\n        self.declare_parameter('velocity.angular', 0.5)\n        self.declare_parameter('acceleration.linear', 2.0)\n        self.declare_parameter('acceleration.angular', 1.0)\n\n        # Set up parameter callback\n        self.add_on_set_parameters_callback(self.complex_parameter_callback)\n\n        # Initialize with parameter values\n        self.update_from_parameters()\n\n    def complex_parameter_callback(self, params):\n        \"\"\"\n        Complex callback that handles interdependent parameters.\n        \"\"\"\n        param_updates = {}\n\n        for param in params:\n            param_updates[param.name] = param.value\n\n        # Validate interdependent parameters\n        if 'velocity.linear' in param_updates and 'acceleration.linear' in param_updates:\n            vel = param_updates['velocity.linear']\n            acc = param_updates['acceleration.linear']\n\n            # Check if acceleration is sufficient for the desired velocity\n            if acc < vel / 2.0:  # Arbitrary safety check\n                self.get_logger().warn(\n                    f'Acceleration {acc} may be insufficient for velocity {vel}'\n                )\n\n        # Update all parameters atomically\n        for param in params:\n            setattr(self, param.name.replace('.', '_'), param.value)\n\n        # Trigger any dependent logic\n        self.update_control_system()\n\n        return rclpy.parameter.ParameterCallbackResult.SUCCESS\n\n    def update_from_parameters(self):\n        \"\"\"Update internal state from current parameters.\"\"\"\n        self.linear_vel = self.get_parameter('velocity.linear').value\n        self.angular_vel = self.get_parameter('velocity.angular').value\n        self.linear_acc = self.get_parameter('acceleration.linear').value\n        self.angular_acc = self.get_parameter('acceleration.angular').value\n\n    def update_control_system(self):\n        \"\"\"Update control system based on parameter changes.\"\"\"\n        self.get_logger().info(\n            f'Control system updated: '\n            f'Linear {self.linear_vel}/{self.linear_acc}, '\n            f'Angular {self.angular_vel}/{self.angular_acc}'\n        )\n"})}),"\n",(0,t.jsx)(a.h2,{id:"parameter-management-strategies",children:"Parameter Management Strategies"}),"\n",(0,t.jsx)(a.h3,{id:"1-configuration-profiles",children:"1. Configuration Profiles"}),"\n",(0,t.jsx)(a.p,{children:"Create different parameter files for different scenarios:"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.strong,{children:"config/simulation.yaml:"})}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-yaml",children:"/**:\n  ros__parameters:\n    use_sim_time: true\n\nrobot_controller:\n  ros__parameters:\n    max_velocity: 2.0\n    max_acceleration: 3.0\n    safety_distance: 0.5\n"})}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.strong,{children:"config/real_robot.yaml:"})}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-yaml",children:"/**:\n  ros__parameters:\n    use_sim_time: false\n\nrobot_controller:\n  ros__parameters:\n    max_velocity: 0.5\n    max_acceleration: 1.0\n    safety_distance: 1.0\n"})}),"\n",(0,t.jsx)(a.h3,{id:"2-parameter-validation-node",children:"2. Parameter Validation Node"}),"\n",(0,t.jsx)(a.p,{children:"Create a dedicated node for parameter validation:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"#!/usr/bin/env python3\n\"\"\"\nParameter validation node that monitors and validates parameters across the system.\n\"\"\"\n\nimport rclpy\nfrom rclpy.node import Node\nfrom rcl_interfaces.msg import ParameterEvent\nfrom rcl_interfaces.srv import GetParameters, SetParameters\nfrom std_msgs.msg import String\n\n\nclass ParameterValidatorNode(Node):\n    def __init__(self):\n        super().__init__('parameter_validator_node')\n\n        # Subscribe to parameter events\n        self.param_event_sub = self.create_subscription(\n            ParameterEvent,\n            '/parameter_events',\n            self.param_event_callback,\n            10\n        )\n\n        # Publisher for validation alerts\n        self.alert_pub = self.create_publisher(String, 'parameter_alerts', 10)\n\n        self.get_logger().info('Parameter validator node initialized')\n\n    def param_event_callback(self, msg):\n        \"\"\"Handle parameter change events.\"\"\"\n        for new_param in msg.new_parameters:\n            self.validate_parameter(msg.node, new_param)\n\n        for changed_param in msg.changed_parameters:\n            self.validate_parameter(msg.node, changed_param)\n\n    def validate_parameter(self, node_name, param):\n        \"\"\"Validate individual parameter.\"\"\"\n        param_name = param.name\n        param_value = param.value\n\n        # Define validation rules\n        validation_rules = {\n            'max_velocity': {\n                'type': 'double',\n                'min': 0.0,\n                'max': 5.0,\n                'description': 'Maximum velocity must be between 0 and 5 m/s'\n            },\n            'robot_radius': {\n                'type': 'double',\n                'min': 0.01,\n                'max': 2.0,\n                'description': 'Robot radius must be between 0.01 and 2.0 meters'\n            }\n        }\n\n        if param_name in validation_rules:\n            rule = validation_rules[param_name]\n\n            # Check type\n            if rule['type'] == 'double' and param_value.type != 3:  # 3 is double\n                self.alert(f'Parameter {param_name} in {node_name} has wrong type')\n                return False\n\n            # Check range\n            value = param_value.double_value\n            if value < rule['min'] or value > rule['max']:\n                self.alert(f'Parameter {param_name} in {node_name} out of range: {value}. {rule[\"description\"]}')\n                return False\n\n        return True\n\n    def alert(self, message):\n        \"\"\"Publish validation alert.\"\"\"\n        alert_msg = String()\n        alert_msg.data = message\n        self.alert_pub.publish(alert_msg)\n        self.get_logger().warn(message)\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = ParameterValidatorNode()\n\n    try:\n        rclpy.spin(node)\n    except KeyboardInterrupt:\n        node.get_logger().info('Parameter validator stopped')\n    finally:\n        node.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,t.jsx)(a.h3,{id:"3-parameter-presets",children:"3. Parameter Presets"}),"\n",(0,t.jsx)(a.p,{children:"Create presets for common configurations:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"class ParameterPresetNode(Node):\n    def __init__(self):\n        super().__init__('parameter_preset_node')\n\n        # Declare preset selection parameter\n        self.declare_parameter('preset', 'default')\n\n        # Define presets\n        self.presets = {\n            'default': {\n                'max_velocity': 1.0,\n                'acceleration': 2.0,\n                'safety_distance': 1.0\n            },\n            'aggressive': {\n                'max_velocity': 3.0,\n                'acceleration': 5.0,\n                'safety_distance': 2.0\n            },\n            'conservative': {\n                'max_velocity': 0.5,\n                'acceleration': 1.0,\n                'safety_distance': 0.5\n            },\n            'demo': {\n                'max_velocity': 1.5,\n                'acceleration': 2.5,\n                'safety_distance': 1.5\n            }\n        }\n\n        # Set up parameter callback\n        self.add_on_set_parameters_callback(self.preset_callback)\n\n    def preset_callback(self, params):\n        \"\"\"Handle preset changes.\"\"\"\n        for param in params:\n            if param.name == 'preset' and param.value in self.presets:\n                preset_name = param.value\n                preset_values = self.presets[preset_name]\n\n                self.get_logger().info(f'Loading preset: {preset_name}')\n\n                # Apply preset values\n                for key, value in preset_values.items():\n                    try:\n                        # This would require a more complex setup to actually change parameters\n                        # In practice, you'd need to use a different approach\n                        self.get_logger().info(f'Setting {key} to {value}')\n                    except Exception as e:\n                        self.get_logger().error(f'Error applying preset {key}: {e}')\n\n                return rclpy.parameter.ParameterCallbackResult.SUCCESS\n\n        return rclpy.parameter.ParameterCallbackResult.SUCCESS\n"})}),"\n",(0,t.jsx)(a.h2,{id:"command-line-parameter-management",children:"Command-Line Parameter Management"}),"\n",(0,t.jsx)(a.h3,{id:"useful-parameter-commands",children:"Useful Parameter Commands"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-bash",children:"# List all parameters for a node\nros2 param list /parameter_node\n\n# Get a specific parameter\nros2 param get /parameter_node robot_name\n\n# Set a parameter\nros2 param set /parameter_node max_velocity 2.5\n\n# Load parameters from YAML file\nros2 param load /parameter_node config/robot_params.yaml\n\n# Dump current parameters to file\nros2 param dump /parameter_node --output config/current_params.yaml\n\n# Watch parameter changes\nwatch -n 1 'ros2 param list /parameter_node'\n\n# Get parameter descriptions\nros2 param describe /parameter_node robot_name\n"})}),"\n",(0,t.jsx)(a.h3,{id:"parameter-management-scripts",children:"Parameter Management Scripts"}),"\n",(0,t.jsx)(a.p,{children:"Create a script to manage parameters across multiple nodes:"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"#!/usr/bin/env python3\n\"\"\"\nParameter management script for multiple nodes.\n\"\"\"\n\nimport rclpy\nfrom rclpy.node import Node\nfrom rcl_interfaces.srv import SetParameters, GetParameters\nimport sys\nimport time\n\n\nclass ParameterManager(Node):\n    def __init__(self):\n        super().__init__('parameter_manager')\n\n    def set_parameter_for_nodes(self, node_names, param_name, param_value):\n        \"\"\"Set a parameter across multiple nodes.\"\"\"\n        for node_name in node_names:\n            try:\n                # Create client for the node\n                client = self.create_client(\n                    SetParameters,\n                    f'{node_name}/set_parameters'\n                )\n\n                if not client.wait_for_service(timeout_sec=1.0):\n                    self.get_logger().error(f'Service not available for {node_name}')\n                    continue\n\n                # Create parameter request\n                from rcl_interfaces.msg import Parameter, ParameterValue\n                param = Parameter()\n                param.name = param_name\n                param.value = ParameterValue()\n                param.value.type = 3  # double\n                param.value.double_value = param_value\n\n                request = SetParameters.Request()\n                request.parameters = [param]\n\n                # Send request\n                future = client.call_async(request)\n                rclpy.spin_until_future_complete(self, future)\n\n                if future.result() is not None:\n                    response = future.result()\n                    if response.results[0].successful:\n                        self.get_logger().info(f'Set {param_name}={param_value} for {node_name}')\n                    else:\n                        self.get_logger().error(f'Failed to set {param_name} for {node_name}')\n                else:\n                    self.get_logger().error(f'Failed to call service for {node_name}')\n\n            except Exception as e:\n                self.get_logger().error(f'Error setting parameter for {node_name}: {e}')\n\n    def batch_configure_nodes(self):\n        \"\"\"Configure multiple nodes with different parameters.\"\"\"\n        # Navigation nodes\n        nav_nodes = ['/nav_planner', '/nav_controller']\n        for node in nav_nodes:\n            self.set_parameter_for_nodes([node], 'planner_frequency', 5.0)\n            self.set_parameter_for_nodes([node], 'controller_frequency', 20.0)\n\n        # Sensor nodes\n        sensor_nodes = ['/camera_driver', '/lidar_driver']\n        for node in sensor_nodes:\n            self.set_parameter_for_nodes([node], 'publish_frequency', 10.0)\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    manager = ParameterManager()\n\n    try:\n        manager.batch_configure_nodes()\n        # Keep node alive briefly to allow parameter setting\n        time.sleep(1.0)\n    except KeyboardInterrupt:\n        manager.get_logger().info('Parameter manager stopped')\n    finally:\n        manager.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,t.jsx)(a.h2,{id:"best-practices-for-parameter-management",children:"Best Practices for Parameter Management"}),"\n",(0,t.jsx)(a.h3,{id:"1-parameter-organization",children:"1. Parameter Organization"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"# Good: Organized parameter structure\nclass WellOrganizedNode(Node):\n    def __init__(self):\n        super().__init__('well_organized_node')\n\n        # Group related parameters\n        self.declare_parameter('navigation.max_velocity', 1.0)\n        self.declare_parameter('navigation.min_velocity', 0.1)\n        self.declare_parameter('navigation.acceleration', 2.0)\n\n        self.declare_parameter('sensors.lidar.enabled', True)\n        self.declare_parameter('sensors.camera.enabled', True)\n        self.declare_parameter('sensors.imu.enabled', True)\n\n        self.declare_parameter('control.pid.kp', 1.0)\n        self.declare_parameter('control.pid.ki', 0.1)\n        self.declare_parameter('control.pid.kd', 0.05)\n\n# Avoid: Unorganized parameter names\nclass PoorlyOrganizedNode(Node):\n    def __init__(self):\n        super().__init__('poorly_organized_node')\n\n        # Unclear, unorganized parameter names\n        self.declare_parameter('max_vel', 1.0)\n        self.declare_parameter('kp', 1.0)\n        self.declare_parameter('lidar_on', True)\n        self.declare_parameter('cam_en', True)\n"})}),"\n",(0,t.jsx)(a.h3,{id:"2-parameter-validation",children:"2. Parameter Validation"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"def validate_and_set_parameters(self, params_dict):\n    \"\"\"Validate and set multiple parameters safely.\"\"\"\n    validated_params = {}\n\n    for name, value in params_dict.items():\n        if name == 'max_velocity':\n            if not (0 < value <= 10.0):\n                self.get_logger().error(f'Max velocity {value} out of range')\n                continue\n        elif name == 'robot_radius':\n            if not (0.01 <= value <= 5.0):\n                self.get_logger().error(f'Robot radius {value} out of range')\n                continue\n\n        validated_params[name] = value\n\n    # Set validated parameters\n    for name, value in validated_params.items():\n        self.set_parameters([Parameter(name, Parameter.Type.DOUBLE, value)])\n"})}),"\n",(0,t.jsx)(a.h3,{id:"3-default-values-and-documentation",children:"3. Default Values and Documentation"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"class DocumentedParameterNode(Node):\n    def __init__(self):\n        super().__init__('documented_parameter_node')\n\n        # Always provide meaningful default values and descriptions\n        self.declare_parameter(\n            'control_frequency',\n            50.0,\n            description='Control loop frequency in Hz (default: 50.0)'\n        )\n\n        self.declare_parameter(\n            'safety_timeout',\n            5.0,\n            description='Safety timeout in seconds (default: 5.0, 0 to disable)'\n        )\n\n        self.declare_parameter(\n            'debug_mode',\n            False,\n            description='Enable debug output (default: false)'\n        )\n"})}),"\n",(0,t.jsx)(a.h3,{id:"4-runtime-parameter-changes",children:"4. Runtime Parameter Changes"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"class SafeParameterNode(Node):\n    def __init__(self):\n        super().__init__('safe_parameter_node')\n\n        self.declare_parameter('max_velocity', 1.0)\n        self.add_on_set_parameters_callback(self.safe_parameter_callback)\n\n        # Store critical parameters separately for safety\n        self._critical_params = set(['max_velocity', 'safety_timeout'])\n\n    def safe_parameter_callback(self, params):\n        \"\"\"Safe parameter callback with critical parameter handling.\"\"\"\n        # Validate all parameters first\n        for param in params:\n            if not self.validate_parameter(param):\n                return rclpy.parameter.ParameterCallbackResult.FAILURE\n\n        # Apply changes safely\n        for param in params:\n            # Store old value for potential rollback\n            old_value = self.get_parameter(param.name).value if self.has_parameter(param.name) else None\n\n            # Apply new value\n            success = self.set_parameters([param])[0].successful\n\n            if not success:\n                self.get_logger().error(f'Failed to set parameter {param.name}')\n                return rclpy.parameter.ParameterCallbackResult.FAILURE\n\n        return rclpy.parameter.ParameterCallbackResult.SUCCESS\n\n    def validate_parameter(self, param):\n        \"\"\"Validate a single parameter.\"\"\"\n        if param.name == 'max_velocity':\n            if param.value <= 0 or param.value > 10.0:\n                self.get_logger().error(f'Invalid max_velocity: {param.value}')\n                return False\n        return True\n"})}),"\n",(0,t.jsx)(a.h2,{id:"parameter-performance-considerations",children:"Parameter Performance Considerations"}),"\n",(0,t.jsx)(a.h3,{id:"efficient-parameter-access",children:"Efficient Parameter Access"}),"\n",(0,t.jsx)(a.pre,{children:(0,t.jsx)(a.code,{className:"language-python",children:"class EfficientParameterNode(Node):\n    def __init__(self):\n        super().__init__('efficient_parameter_node')\n\n        # Declare parameters\n        self.declare_parameter('update_rate', 10.0)\n        self.declare_parameter('threshold', 0.5)\n\n        # Cache parameter values to avoid repeated calls\n        self._update_rate = self.get_parameter('update_rate').value\n        self._threshold = self.get_parameter('threshold').value\n\n        # Update cached values periodically or on parameter change\n        self.timer = self.create_timer(1.0, self.update_cached_params)\n\n    def update_cached_params(self):\n        \"\"\"Update cached parameter values.\"\"\"\n        self._update_rate = self.get_parameter('update_rate').value\n        self._threshold = self.get_parameter('threshold').value\n\n    def process_data(self, data):\n        \"\"\"Process data using cached parameters (faster).\"\"\"\n        if data > self._threshold:\n            # Process data with cached threshold\n            return data * self._update_rate\n        return 0.0\n"})}),"\n",(0,t.jsx)(a.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(a.p,{children:"In this chapter, you learned:"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:"\u2705 How to declare and use parameters in ROS 2 nodes"}),"\n",(0,t.jsx)(a.li,{children:"\u2705 Parameter management through launch files and parameter files"}),"\n",(0,t.jsx)(a.li,{children:"\u2705 Advanced parameter techniques including validation and callbacks"}),"\n",(0,t.jsx)(a.li,{children:"\u2705 Best practices for configuration management and parameter organization"}),"\n",(0,t.jsx)(a.li,{children:"\u2705 Command-line tools for parameter management"}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(a.p,{children:"Now that you understand parameters and configuration management, you're ready to learn about launch files and system orchestration!"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"Continue to:"})," ",(0,t.jsx)(a.a,{href:"chapter-1-6-launch-files",children:"Chapter 1.6: ROS 2 Launch Files and System Orchestration \u2192"})]}),"\n",(0,t.jsx)(a.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:(0,t.jsx)(a.a,{href:"https://docs.ros.org/en/humble/How-To-Guides/Using-Parameters-in-a-class.html",children:"ROS 2 Parameters Documentation"})}),"\n",(0,t.jsx)(a.li,{children:(0,t.jsx)(a.a,{href:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Launch-Main.html",children:"Launch System Tutorial"})}),"\n",(0,t.jsx)(a.li,{children:(0,t.jsx)(a.a,{href:"https://docs.ros.org/en/humble/How-To-Guides/Node-arguments.html#parameter-files",children:"Parameter Files Guide"})}),"\n",(0,t.jsx)(a.li,{children:(0,t.jsx)(a.a,{href:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Creating-Launch-Files.html",children:"Launch Files Best Practices"})}),"\n"]})]})}function m(e={}){const{wrapper:a}={...(0,l.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,a,n)=>{n.d(a,{R:()=>s,x:()=>i});var r=n(6540);const t={},l=r.createContext(t);function s(e){const a=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(l.Provider,{value:a},e.children)}}}]);